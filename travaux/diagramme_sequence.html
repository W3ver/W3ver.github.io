<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Diagram with Custom Theme</title>
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';

      mermaid.initialize({
        theme: 'base',
        themeVariables: {
          primaryColor: '#BB2528',
          primaryTextColor: '#fff',
          primaryBorderColor: '#7C0000',
          lineColor: '#F8B229',
          secondaryColor: '#006100',
          tertiaryColor: '#fff'
        }
      });
    </script>
  </head>
  <body>
    <pre class="mermaid">
%%{
  init: {
    'theme': 'base',
    'themeVariables': {
      'primaryColor': '#BB2528',
      'primaryTextColor': '#fff',
      'primaryBorderColor': '#7C0000',
      'lineColor': '#F8B229',
      'secondaryColor': '#006100',
      'tertiaryColor': '#fff'
    }
  }
}%%
	sequenceDiagram
		participant E as Emprunteur
		participant IU as Interface Utilisateur
		participant SGB as Système de Gestion de Bibliothèque
		participant SL as Service Livres
		participant SE as Services Emprunt
		participant DB as Base de Données
		
		%% Scénario d'emprunt d'un livre
		E->>IU: Cherche un livre à emprunter
		IU->>SGB: Demande de recherche du livre
		SGB->>SL: Recherche du livre
		SL->>DB: Interroger la BDD
		DB-->>SL: Retourne le livre trouvé
		SL-->>SGB: Livre trouvé
		SGB->>E: Affiche le livre à l'emprunteur
		
		E->>IU: Choisit d'emprunter le livre
		IU->>SGB: Demande d'emprunt
		SGB->>SE: Créer l'emprunt pour l'utilisateur
		SE->>DB: Maj les infos sur l'emprunt
		DB-->>SE: Confirmation de Maj
		SE-->>SGB: Confirmation de l'emprunt créé
		SGB->>IU: Envoi de la confirmation à l'emprunteur
		IU-->>E:Message de confirmation de l'emprunt

  </pre>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.init();
  </script>
</body>
</html>
